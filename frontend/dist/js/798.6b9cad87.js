"use strict";(self["webpackChunkrolenpermissionf"]=self["webpackChunkrolenpermissionf"]||[]).push([[798],{5810:function(t,e,s){var i=s(2482),r=s(9203),o=function(t,e,s,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,s,i);else for(var n=t.length-1;n>=0;n--)(r=t[n])&&(a=(o<3?r(a):o>3?r(e,s,a):r(e,s))||a);return o>3&&a&&Object.defineProperty(e,s,a),a};let a=class extends r.w3{constructor(...t){super(...t),(0,i.Z)(this,"isFocus",!1),(0,i.Z)(this,"hasText",!1),(0,i.Z)(this,"title",void 0),(0,i.Z)(this,"disabled",void 0)}render(){const t=arguments[0];return t("div",{class:{form__group:!0,"has--text":this.isFocus||this.hasText}},[this.title?t("label",{attrs:{for:""}},[this.title]):null,this.$slots.default])}mounted(){const t=this.$el.querySelector("input");t&&(this.$nextTick((()=>{this.hasText=""!==t.value})),t.addEventListener("focus",(()=>{this.isFocus=!0})),t.addEventListener("blur",(()=>{this.isFocus=!1})),t.addEventListener("input",(()=>{this.hasText=t.value.length>0})),this.disabled&&t.setAttribute("disabled",""))}};o([(0,r.fI)({default:""})],a.prototype,"title",void 0),o([(0,r.fI)({default:!1})],a.prototype,"disabled",void 0),a=o([r.wA],a),e["Z"]=a},3958:function(t,e,s){var i=s(8701),r=s.n(i),o=s(2482),a=s(9203),n=s(5810),l=function(t,e,s,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,s,i);else for(var n=t.length-1;n>=0;n--)(r=t[n])&&(a=(o<3?r(a):o>3?r(e,s,a):r(e,s))||a);return o>3&&a&&Object.defineProperty(e,s,a),a};let c,d=class extends a.w3{constructor(...t){super(...t),(0,o.Z)(this,"searchText","")}searchTextChanged(){c&&clearTimeout(c),c=setTimeout((()=>{this.submitHandler()}),300)}render(){const t=arguments[0];return t("form",{attrs:{action:"#",method:"POST"},class:"form form__inline p4 text--center",on:{submit:this.submitHandler}},[t(n.Z,[t("input",r()([{on:{input:t=>{t.target.composing||(this.searchText=t.target.value)}},attrs:{type:"search",name:"search_permission",id:"spf_search",placeholder:"Search text here..."},domProps:{value:this.searchText}},{directives:[{name:"model",value:this.searchText,modifiers:{}}]}]))]),t("div",{class:"form__action"},[t("button",{attrs:{type:"submit"},class:"btn btn__primary"},[t("span",{class:"material-icons"},["search"])])])])}submitHandler(t){t&&t.preventDefault(),this.$emit("search",this.searchText)}};l([(0,a.RL)("searchText")],d.prototype,"searchTextChanged",null),d=l([a.wA],d),e["Z"]=d},7682:function(t,e,s){var i=s(2482),r=s(9203),o=function(t,e,s,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,s,i);else for(var n=t.length-1;n>=0;n--)(r=t[n])&&(a=(o<3?r(a):o>3?r(e,s,a):r(e,s))||a);return o>3&&a&&Object.defineProperty(e,s,a),a};let a=class extends r.w3{constructor(...t){super(...t),(0,i.Z)(this,"current",void 0),(0,i.Z)(this,"total",void 0),(0,i.Z)(this,"max",void 0)}get pages(){let t=this.max;t>this.total&&(t=this.total);let e=this.current-Math.floor(t/2);return e=Math.max(e,1),e=Math.min(e,1+this.total-t),Array.from({length:t},((t,s)=>e+s))}render(){const t=arguments[0];return t("nav",{class:"pagination"},[this.total>1?[t("ul",{class:"pagination__list"},[this.current>1?t("li",[t("a",{attrs:{href:"#"},class:"pagination--btn prev",on:{click:this.prev}},["prev"])]):null,this.pages.map((e=>t("li",[e===this.current?t("strong",[e]):t("a",{attrs:{href:"#"},on:{click:t=>{t.preventDefault(),this.goto(e)}}},[e])]))),this.current<this.total?t("li",[t("a",{attrs:{href:"#"},class:"pagination--btn next",on:{click:this.next}},["next"])]):null])]:null])}next(t){t.preventDefault(),this.$emit("next")}prev(t){t.preventDefault(),this.$emit("prev")}goto(t){this.$emit("goto",t)}};o([(0,r.fI)({required:!0})],a.prototype,"current",void 0),o([(0,r.fI)({required:!0})],a.prototype,"total",void 0),o([(0,r.fI)({default:3})],a.prototype,"max",void 0),a=o([r.wA],a),e["Z"]=a},2798:function(t,e,s){s.r(e),s.d(e,{default:function(){return P}});var i=s(2482),r=s(9203),o=s(3822),a=s(8701),n=s.n(a),l=s(5810),c=function(t,e,s,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,s,i);else for(var n=t.length-1;n>=0;n--)(r=t[n])&&(a=(o<3?r(a):o>3?r(e,s,a):r(e,s))||a);return o>3&&a&&Object.defineProperty(e,s,a),a};let d=class extends r.w3{constructor(...t){super(...t),(0,i.Z)(this,"toggleModal",void 0),(0,i.Z)(this,"save",void 0),(0,i.Z)(this,"formData",{title:""}),(0,i.Z)(this,"detail",void 0)}onDetailChanged(){this.init()}mounted(){this.init()}render(){const t=arguments[0];return t("form",{class:"form",on:{submit:t=>{t.preventDefault(),this.save(this.formData).then((()=>{this.toggleModal(null)}))}}},[t(l.Z,{attrs:{title:"Title"}},[t("input",n()([{on:{input:t=>{t.target.composing||this.$set(this.formData,"title",t.target.value)}},attrs:{type:"text",name:"title",id:"pf_title"},domProps:{value:this.formData.title}},{directives:[{name:"model",value:this.formData.title,modifiers:{}}]}]))]),t("div",{class:"form__action"},[t("button",{attrs:{type:"submit"},class:"btn btn__primary"},["save"])])])}init(){this.detail&&(this.formData.id=this.detail.id,this.formData.title=this.detail.title)}};c([(0,r.fI)({default:null})],d.prototype,"detail",void 0),c([(0,r.RL)("detail")],d.prototype,"onDetailChanged",null),d=c([(0,r.wA)({methods:{...(0,o.nv)({toggleModal:"root/toggleModal",save:"permission/save"})}})],d);var h=d,f=function(t,e,s,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,s,i);else for(var n=t.length-1;n>=0;n--)(r=t[n])&&(a=(o<3?r(a):o>3?r(e,s,a):r(e,s))||a);return o>3&&a&&Object.defineProperty(e,s,a),a};let p=class extends r.w3{constructor(...t){super(...t),(0,i.Z)(this,"toggleModal",void 0),(0,i.Z)(this,"destory",void 0),(0,i.Z)(this,"detail",void 0)}render(){const t=arguments[0];return t("div",{class:"item"},[t("div",{class:"item__detail"},[t("strong",[this.detail.title])]),t("div",{class:"item__action"},[t("a",{attrs:{href:"#"},on:{click:this.edit}},["edit"]),t("a",{attrs:{href:"#"},on:{click:t=>{t.preventDefault(),this.detail.id&&this.destory(this.detail.id)}}},["delete"])])])}edit(t){t.preventDefault(),this.toggleModal({title:`Edit <strong>${this.detail.title}</strong>`,component:h,props:{detail:this.detail}})}};f([(0,r.fI)({required:!0})],p.prototype,"detail",void 0),p=f([(0,r.wA)({methods:{...(0,o.nv)({toggleModal:"root/toggleModal",destory:"permission/destory"})}})],p);var u=p,v=s(7682),g=s(3958),m=function(t,e,s,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,s,i);else for(var n=t.length-1;n>=0;n--)(r=t[n])&&(a=(o<3?r(a):o>3?r(e,s,a):r(e,s))||a);return o>3&&a&&Object.defineProperty(e,s,a),a};let y=class extends r.w3{render(){const t=arguments[0];return t("div",{class:"skeleton__loader skeleton__loader--inline"},[t("div",{class:"wrap"},[t("span",{class:"text"})]),t("div",{class:"action"},[t("span",{class:"link"}),t("span",{class:"link"})])])}};y=m([r.wA],y);var b=y,x=function(t,e,s,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,s,i);else for(var n=t.length-1;n>=0;n--)(r=t[n])&&(a=(o<3?r(a):o>3?r(e,s,a):r(e,s))||a);return o>3&&a&&Object.defineProperty(e,s,a),a};let _=class extends r.w3{constructor(...t){super(...t),(0,i.Z)(this,"isLoading",void 0),(0,i.Z)(this,"toggleModal",void 0),(0,i.Z)(this,"fetch",void 0),(0,i.Z)(this,"prevPage",void 0),(0,i.Z)(this,"nextPage",void 0),(0,i.Z)(this,"search",void 0),(0,i.Z)(this,"goto",void 0),(0,i.Z)(this,"current",void 0),(0,i.Z)(this,"lastPage",void 0),(0,i.Z)(this,"permissionList",void 0)}mounted(){this.fetch({params:{per_page:10}})}render(){const t=arguments[0];return t("section",{class:"card"},[t("header",{class:"card__header"},[t("h1",{class:"card__title"},["Permission Page"]),t("div",{class:"card__header__action"},[t("a",{attrs:{href:"#"},on:{click:t=>{t.preventDefault(),this.fetch({params:{per_page:10}})}}},[t("span",{class:"material-icons"},["refresh"])]),t("a",{attrs:{href:"#"},on:{click:t=>{t.preventDefault(),this.toggleModal({title:"Add new permission",component:h})}}},[t("span",{class:"fa fa-plus"})," Add Permission"])])]),t("div",{class:"card__body"},[t(g.Z,{on:{search:t=>{this.search(t)}}}),this.isLoading?t(b):this.permissionList.map((e=>t(u,{attrs:{detail:e},key:e.id})))]),t("footer",{class:"card__footer"},[t(v.Z,{attrs:{current:this.current,total:this.lastPage},on:{next:()=>this.nextPage(),prev:()=>this.prevPage(),goto:t=>this.goto(t)}})])])}};_=x([(0,r.wA)({computed:{...(0,o.Se)({permissionList:"permission/permissionList",current:"permission/currentPage",lastPage:"permission/lastPage",isLoading:"permission/isLoading"})},methods:{...(0,o.nv)({toggleModal:"root/toggleModal",fetch:"permission/fetch",nextPage:"permission/nextPage",prevPage:"permission/prevPage",goto:"permission/gotoPage",search:"permission/search"})}})],_);var P=_},8701:function(t){function e(){return e=Object.assign?Object.assign.bind():function(t){for(var e,s=1;s<arguments.length;s++)for(var i in e=arguments[s],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},e.apply(this,arguments)}var s=["attrs","props","domProps"],i=["class","style","directives"],r=["on","nativeOn"],o=function(t){return t.reduce((function(t,o){for(var n in o)if(t[n])if(-1!==s.indexOf(n))t[n]=e({},t[n],o[n]);else if(-1!==i.indexOf(n)){var l=t[n]instanceof Array?t[n]:[t[n]],c=o[n]instanceof Array?o[n]:[o[n]];t[n]=[].concat(l,c)}else if(-1!==r.indexOf(n))for(var d in o[n])if(t[n][d]){var h=t[n][d]instanceof Array?t[n][d]:[t[n][d]],f=o[n][d]instanceof Array?o[n][d]:[o[n][d]];t[n][d]=[].concat(h,f)}else t[n][d]=o[n][d];else if("hook"===n)for(var p in o[n])t[n][p]=t[n][p]?a(t[n][p],o[n][p]):o[n][p];else t[n]=o[n];else t[n]=o[n];return t}),{})},a=function(t,e){return function(){t&&t.apply(this,arguments),e&&e.apply(this,arguments)}};t.exports=o}}]);
//# sourceMappingURL=798.6b9cad87.js.map