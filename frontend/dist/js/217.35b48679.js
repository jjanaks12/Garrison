"use strict";(self["webpackChunkrolenpermissionf"]=self["webpackChunkrolenpermissionf"]||[]).push([[217],{5810:function(e,t,s){var a=s(2482),i=s(9203),r=function(e,t,s,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,s):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(e,t,s,a);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(n=(r<3?i(n):r>3?i(t,s,n):i(t,s))||n);return r>3&&n&&Object.defineProperty(t,s,n),n};let n=class extends i.w3{constructor(...e){super(...e),(0,a.Z)(this,"isFocus",!1),(0,a.Z)(this,"hasText",!1),(0,a.Z)(this,"title",void 0),(0,a.Z)(this,"disabled",void 0)}render(){const e=arguments[0];return e("div",{class:{form__group:!0,"has--text":this.isFocus||this.hasText}},[this.title?e("label",{attrs:{for:""}},[this.title]):null,this.$slots.default])}mounted(){const e=this.$el.querySelector("input");e&&(this.$nextTick((()=>{this.hasText=""!==e.value})),e.addEventListener("focus",(()=>{this.isFocus=!0})),e.addEventListener("blur",(()=>{this.isFocus=!1})),e.addEventListener("input",(()=>{this.hasText=e.value.length>0})),this.disabled&&e.setAttribute("disabled",""))}};r([(0,i.fI)({default:""})],n.prototype,"title",void 0),r([(0,i.fI)({default:!1})],n.prototype,"disabled",void 0),n=r([i.wA],n),t["Z"]=n},8217:function(e,t,s){s.r(t),s.d(t,{default:function(){return m}});var a=s(8701),i=s.n(a),r=s(2482),n=(s(7658),s(9203)),o=s(3822),l=s(5810),c=function(e,t,s,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,s):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(e,t,s,a);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(n=(r<3?i(n):r>3?i(t,s,n):i(t,s))||n);return r>3&&n&&Object.defineProperty(t,s,n),n};let u=class extends n.w3{constructor(...e){super(...e),(0,r.Z)(this,"fileList",[]),(0,r.Z)(this,"value",void 0)}get url(){return this.fileList.length>0?this.fileList[0]:this.value?this.value:null}render(){const e=arguments[0];return e("label",{class:"custom__file"},[e("input",{attrs:{type:"file",name:"media",accept:"image/*"},on:{change:this.onInputChanged}}),e("span",{class:"custom__file__detail"},[this.url?e("img",{attrs:{src:this.url,alt:"image description"}}):e("strong",["Choose a file"])])])}onInputChanged(e){const t=e.currentTarget,s=t.files;if(s)for(let a=0;a<s.length;a++){const e=s[a],t=new FileReader;t.readAsDataURL(e),t.onload=()=>{t.result&&(this.fileList.push(t.result),this.$emit("input",this.fileList))}}}};c([(0,n.fI)({default:null})],u.prototype,"value",void 0),u=c([n.wA],u);var f=u,d=function(e,t,s,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,s):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(e,t,s,a);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(n=(r<3?i(n):r>3?i(t,s,n):i(t,s))||n);return r>3&&n&&Object.defineProperty(t,s,n),n};let h=class extends n.w3{constructor(...e){super(...e),(0,r.Z)(this,"user",void 0),(0,r.Z)(this,"message",null),(0,r.Z)(this,"changeDetail",void 0),(0,r.Z)(this,"avatar",void 0),(0,r.Z)(this,"formData",{file:"",name:"",email:"",phone:"",address:""})}mounted(){const{email:e,phone:t,name:s,address:a}=this.user;this.formData={email:e,phone:t,name:s,address:a}}render(){const e=arguments[0];return e("section",{class:"card"},[e("header",{class:"card__header"},[e("h1",["Change Detail"])]),e("div",{class:"card__body"},[e("div",{class:"card__detail"},[e("form",{class:"form",on:{submit:this.onFormSubmit}},[e(f,{attrs:{value:this.avatar?.url},on:{input:e=>{this.formData.file=e[e.length-1]}}}),e(l.Z,{attrs:{title:"Name"}},[e("input",i()([{on:{input:e=>{e.target.composing||this.$set(this.formData,"name",e.target.value)}},attrs:{type:"text",name:"name",id:"lf_name"},domProps:{value:this.formData.name}},{directives:[{name:"model",value:this.formData.name,modifiers:{}}]}]))]),e(l.Z,{attrs:{title:"Phone number"}},[e("input",i()([{on:{input:e=>{e.target.composing||this.$set(this.formData,"phone",e.target.value)}},attrs:{type:"text",name:"name",id:"lf_name"},domProps:{value:this.formData.phone}},{directives:[{name:"model",value:this.formData.phone,modifiers:{}}]}]))]),e(l.Z,{attrs:{title:"Email"}},[e("input",i()([{on:{input:e=>{e.target.composing||this.$set(this.formData,"email",e.target.value)}},attrs:{type:"email",name:"email",id:"lf_email",readonly:!0},domProps:{value:this.formData.email}},{directives:[{name:"model",value:this.formData.email,modifiers:{}}]}]))]),e(l.Z,{attrs:{title:"Address"}},[e("input",i()([{on:{input:e=>{e.target.composing||this.$set(this.formData,"address",e.target.value)}},attrs:{type:"text",name:"address",id:"lf_address"},domProps:{value:this.formData.address}},{directives:[{name:"model",value:this.formData.address,modifiers:{}}]}]))]),e("div",{class:"form__action"},[this.message?e("span",{class:"form__message"},[this.message]):null,e("button",{class:"btn btn__primary",attrs:{type:"submit"}},["Save"])])])])])])}onFormSubmit(e){e.preventDefault(),this.changeDetail(this.formData).then((e=>{"boolean"!==typeof e?this.message=e.message:e&&this.$router.push({name:"setting"})}))}};h=d([(0,n.wA)({computed:{...(0,o.Se)({user:"root/getLoggedinUser",avatar:"root/avatar"})},methods:{...(0,o.nv)({changeDetail:"root/changeDetail"})}})],h);var m=h},8701:function(e){function t(){return t=Object.assign?Object.assign.bind():function(e){for(var t,s=1;s<arguments.length;s++)for(var a in t=arguments[s],t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},t.apply(this,arguments)}var s=["attrs","props","domProps"],a=["class","style","directives"],i=["on","nativeOn"],r=function(e){return e.reduce((function(e,r){for(var o in r)if(e[o])if(-1!==s.indexOf(o))e[o]=t({},e[o],r[o]);else if(-1!==a.indexOf(o)){var l=e[o]instanceof Array?e[o]:[e[o]],c=r[o]instanceof Array?r[o]:[r[o]];e[o]=[].concat(l,c)}else if(-1!==i.indexOf(o))for(var u in r[o])if(e[o][u]){var f=e[o][u]instanceof Array?e[o][u]:[e[o][u]],d=r[o][u]instanceof Array?r[o][u]:[r[o][u]];e[o][u]=[].concat(f,d)}else e[o][u]=r[o][u];else if("hook"===o)for(var h in r[o])e[o][h]=e[o][h]?n(e[o][h],r[o][h]):r[o][h];else e[o]=r[o];else e[o]=r[o];return e}),{})},n=function(e,t){return function(){e&&e.apply(this,arguments),t&&t.apply(this,arguments)}};e.exports=r}}]);
//# sourceMappingURL=217.35b48679.js.map