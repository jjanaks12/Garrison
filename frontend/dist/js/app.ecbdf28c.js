(function(){var e={2712:function(e,t,n){"use strict";var r,o;n.d(t,{HB:function(){return o},ms:function(){return r},rY:function(){return s}}),function(e){e["DEFAULT"]="default",e["ADMIN"]="admin",e["NONE"]="none"}(r||(r={})),function(e){e["UNAUTHORIZED"]="unauthorized",e["AUTHORIZED"]="authorized",e["NONE"]="none"}(o||(o={}));const s={data:[],current_page:0,per_page:0,last_page:0,total:0}},6134:function(e,t,n){"use strict";var r=n(6369),o=n(2124),s=n.n(o),a=n(9203),i=n(2712),c=function(e,t,n,r){var o,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(a=(s<3?o(a):s>3?o(t,n,a):o(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a};let l=class extends a.w3{render(){const e=arguments[0];return e("div",{attrs:{id:"wrapper"},class:"simple__layout"},[e("main",{attrs:{id:"main"}},[e("router-view")])])}};l=c([a.wA],l);var u=l,p=n(2482),d=n(3822),h=(n(7658),function(e,t,n,r){var o,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(a=(s<3?o(a):s>3?o(t,n,a):o(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a});let m=class extends a.w3{constructor(...e){super(...e),(0,p.Z)(this,"logout",void 0),(0,p.Z)(this,"user",void 0),(0,p.Z)(this,"avatar",void 0)}render(){const e=arguments[0];return e("div",{class:"user"},[e("router-link",{attrs:{to:{name:"setting.change_detail"}},class:"user__image"},[this.avatar?e("img",{attrs:{src:this.avatar.url,alt:this.user.name}}):e("span",[this.userAbbr])]),e("div",{class:"user__detail"},[e("em",[this.user.email]),e("a",{attrs:{href:"#"},class:"btn__logout",on:{click:e=>{e.preventDefault(),this.logout().then((()=>{this.$router.push({name:"login"})}))}}},["logout ",e("span",{class:"material-icons"},["logout"])])])])}get userAbbr(){return this.user?this.user.name?this.user.name.split(" ").map((e=>e[0])).join(""):(this.user.email||"")[0]:""}};m=h([(0,a.wA)({computed:{...(0,d.Se)({user:"root/getLoggedinUser",avatar:"root/avatar"})},methods:{...(0,d.nv)({logout:"root/logout"})}})],m);var g=m,f=n(8921);const y=[{title:"Dashboard",route:"dashboard",icon:"dashboard",access:null},{title:"Users",route:"user",icon:"contacts",access:"manage_user"},{title:"Roles",route:"role",icon:"group",access:"manage_role"},{title:"Permissions",route:"permission",icon:"key",access:"manage_permission"},{title:"Report",route:"report",icon:"description",access:"manage_report",children:[{title:"User Compliance",route:"report.user_compliance",icon:"description",access:"manage_report"},{title:"User",route:"report.new_user",icon:"description",access:"manage_report"}]},{title:"Settings",route:"setting",icon:"settings",access:"",children:[{title:"Change Password",route:"setting.change_password",icon:"sync_lock",access:""},{title:"Change Detail",route:"setting.change_detail",icon:"manage_accounts",access:""}]}];var v=y,_=function(e,t,n,r){var o,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(a=(s<3?o(a):s>3?o(t,n,a):o(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a};let w=class extends a.w3{render(){const e=arguments[0];return e("nav",{attrs:{id:"nav"}},[e(g),e("router-link",{class:"btn__link",attrs:{to:{name:"home"}}},["Back to Page"]),e("ul",{class:"main__navigation"},[v.map((e=>e.access?f.Z.can(e.access,"all")?this.getNavItem(e):null:this.getNavItem(e)))])])}getNavItem(e){const t=this.$createElement,n=e.route===this.$route.name,r=e.route===this.$route.name||!!e.children&&e.children.map((e=>e.route)).includes(this.$route.name);return t("li",{class:{"nav--active":n,"nav--show":r}},[t("router-link",{attrs:{to:{name:e.route}}},[t("span",{class:"material-icons"},[e.icon]),e.title]),e.children&&e.children.length>0?t("ul",{class:"submenu"},[e.children.map((e=>this.getNavItem(e)))]):null])}};w=_([a.wA],w);var O=w,P=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("section",{class:{modal:!0,"modal--active":e.modal.status},on:{click:function(t){e.clickOnOutside}}},[t("div",{staticClass:"modal__wrap"},[t("header",{staticClass:"modal__header"},[t("h1",{staticClass:"modal__title",domProps:{innerHTML:e._s(e.modal.title)}}),t("a",{staticClass:"btn__link",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.toggleModal(null)}}},[e._v("close")])]),t("div",{staticClass:"modal__body"},[t(e.modal.component,e._b({tag:"component"},"component",e.modal.props,!1))],1)])])},b=[],E=function(e,t,n,r){var o,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(a=(s<3?o(a):s>3?o(t,n,a):o(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a};let U=class extends a.w3{constructor(...e){super(...e),(0,p.Z)(this,"modal",void 0),(0,p.Z)(this,"toggleModal",void 0)}clickOnOutside(){this.$el.childNodes.forEach((e=>{e.addEventListener("click",(e=>{e.stopPropagation()}))}))}};U=E([(0,a.wA)({computed:{...(0,d.Se)({modal:"root/getModal"})},methods:{...(0,d.nv)({toggleModal:"root/toggleModal"})}})],U);var R=U,T=R,A=n(1001),D=(0,A.Z)(T,P,b,!1,null,null,null),Z=D.exports,I=function(e,t,n,r){var o,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(a=(s<3?o(a):s>3?o(t,n,a):o(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a};let N=class extends a.w3{constructor(...e){super(...e),(0,p.Z)(this,"fetchLogginedUser",void 0),(0,p.Z)(this,"getLoggedinUser",void 0)}async onRouteChanged(){await this.init()}mounted(){this.init()}render(){const e=arguments[0];return e("div",{attrs:{id:"app"},class:"admin__layout"},[e(O),e("main",{attrs:{id:"main"}},[e("router-view",{key:(new Date).getTime()})]),e(Z)])}async init(){this.getLoggedinUser||this.fetchLogginedUser()}};I([(0,a.RL)("$route",{immediate:!0})],N.prototype,"onRouteChanged",null),N=I([(0,a.wA)({computed:{...(0,d.Se)({getLoggedinUser:"root/getLoggedinUser"})},methods:{...(0,d.nv)({logout:"root/logout",fetchLogginedUser:"root/fetchLogginedUser"})}})],N);var L=N,S=function(e,t,n,r){var o,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(a=(s<3?o(a):s>3?o(t,n,a):o(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a};let x=class extends a.w3{constructor(...e){super(...e),(0,p.Z)(this,"shown",!1),(0,p.Z)(this,"installEvent",void 0)}created(){this.$on("canInstall",(e=>{e.preventDefault(),this.installEvent=e,this.shown=!0}))}render(){const e=arguments[0];return this.shown?e("div",{class:"prompt"},[e("h3",{class:"prompt__title h4"},["Add app to home screen?"]),e("p",["We are proud to let you know that, you can now add our app to home screen and use as Application."]),e("div",{class:"prompt__action"},[e("a",{attrs:{href:"#"},class:"btn btn__primary",on:{click:this.installPWA}},["Install!"]),e("a",{attrs:{href:"#"},class:"btn btn__info",on:{click:this.dismissPrompt}},["No, thanks"])])]):null}installPWA(e){e.preventDefault(),this.installEvent&&(this.installEvent.prompt(),this.installEvent.userChoice.then((()=>{this.dismissPrompt(e)})))}dismissPrompt(e){e.preventDefault(),this.shown=!1}};x=S([a.wA],x);var j=x,k=function(e,t,n,r){var o,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(a=(s<3?o(a):s>3?o(t,n,a):o(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a};let H=class extends a.w3{constructor(...e){super(...e),(0,p.Z)(this,"token",void 0)}render(){const e=arguments[0];return e("div",{attrs:{id:"wrapper"},class:"default__layout"},[e("nav",{attrs:{id:"nav"}},[e("router-link",{attrs:{to:{name:"home"}}},["Home"]),this.token?[e("router-link",{attrs:{to:{name:"dashboard"}}},["Dashboard"])]:[e("router-link",{attrs:{to:{name:"login"}}},["login"])]]),e("main",{attrs:{id:"main"}},[e("router-view")]),e(j)])}};H=k([(0,a.wA)({computed:{...(0,d.Se)({token:"root/getToken"})}})],H);var G=H,M=function(e,t,n,r){var o,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(a=(s<3?o(a):s>3?o(t,n,a):o(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a};let C=class extends a.w3{get layout(){return this?.$route?.meta?.layout===i.ms.ADMIN?L:this?.$route?.meta?.layout===i.ms.DEFAULT?G:u}render(){const e=arguments[0],t=this.layout;return e("transition",{attrs:{name:"fade-transition"}},[e(t,{ref:"page_layout"})])}};C=M([a.wA],C);var B=C,$=n(3277),Y=n(5320);function z(){const e=document.querySelectorAll(".card__header");e.forEach((e=>{const t=new IntersectionObserver((([e])=>e.target.classList.toggle("card__header--fixed",e.intersectionRatio<1)),{threshold:[1]});t.observe(e)}))}var W=n(8487);const F=async e=>{const t=36e5;setInterval((async()=>{try{await(e?.update()),console.log("sw: registration checked for updates")}catch(t){console.log(`sw: registration failed to check for updates with errors: ${t}`)}}),t)},K=e=>{console.log("sw: manualUpdateAvailable dispatching event"),document.dispatchEvent(new CustomEvent("swUpdated",{detail:e}))},q=async()=>{if("serviceWorker"in navigator){const e=new W.ZW("/service-worker.js"),t=await e.register();console.log("sw: registered"),t&&F(t),e.addEventListener("activated",(async t=>{console.log("sw: activated event listener hit."),t.isUpdate?e.messageSkipWaiting():(e.messageSW({type:"CLIENTS_CLAIM"}),console.log("sw: clientsClaim called."))})),e.addEventListener("installed",(()=>{console.log("sw: installed event listener hit.")})),e.addEventListener("waiting",(t=>{console.log("sw: waiting event listener hit."),t.isUpdate&&K(e)})),e.addEventListener("controlling",(()=>{console.log("sw: controlling event listener hit.")}))}};var V=q;r["default"].config.productionTip=!1,r["default"].use(s()),new r["default"]({router:$.Z,store:Y.Z,render:e=>e(B),watch:{$route(){z()}}}).$mount("#app"),V()},3277:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(6369),o=n(2631),s=n(2712);const a=[{path:"/",name:"home",component:()=>n.e(443).then(n.bind(n,5443)),meta:{layout:s.ms.DEFAULT,type:s.HB.NONE,access:null}},{path:"/dashboard",name:"dashboard",component:()=>n.e(554).then(n.bind(n,5554)),meta:{layout:s.ms.ADMIN,type:s.HB.AUTHORIZED,access:null}},{path:"/roles",name:"role",component:()=>n.e(322).then(n.bind(n,6322)),meta:{layout:s.ms.ADMIN,type:s.HB.AUTHORIZED,access:"manage_role"}},{path:"/permissions",name:"permission",component:()=>n.e(798).then(n.bind(n,2798)),meta:{layout:s.ms.ADMIN,type:s.HB.AUTHORIZED,access:"manage_permission"}},{path:"/users",name:"user",component:()=>n.e(458).then(n.bind(n,1458)),meta:{layout:s.ms.ADMIN,type:s.HB.AUTHORIZED,access:"manage_user"}},{path:"/settings",name:"setting",component:()=>n.e(292).then(n.bind(n,292)),meta:{layout:s.ms.ADMIN,type:s.HB.AUTHORIZED,access:null}},{path:"/settings/change_password",name:"setting.change_password",component:()=>n.e(354).then(n.bind(n,4354)),meta:{layout:s.ms.ADMIN,type:s.HB.AUTHORIZED,access:null}},{path:"/settings/change_detail",name:"setting.change_detail",component:()=>n.e(217).then(n.bind(n,8217)),meta:{layout:s.ms.ADMIN,type:s.HB.AUTHORIZED,access:null}},{path:"/report",name:"report",component:()=>n.e(77).then(n.bind(n,77)),meta:{layout:s.ms.ADMIN,type:s.HB.AUTHORIZED,access:"manage_report"}},{path:"/report/user_compliance",name:"report.user_compliance",component:()=>n.e(775).then(n.bind(n,1775)),meta:{layout:s.ms.ADMIN,type:s.HB.AUTHORIZED,access:"manage_report"}},{path:"/report/new_user",name:"report.new_user",component:()=>n.e(20).then(n.bind(n,3020)),meta:{layout:s.ms.ADMIN,type:s.HB.AUTHORIZED,access:"manage_report"}},{path:"/login",name:"login",component:()=>n.e(708).then(n.bind(n,8708)),meta:{layout:s.ms.NONE,type:s.HB.UNAUTHORIZED,access:null}},{path:"/register",name:"register",component:()=>n.e(258).then(n.bind(n,1258)),meta:{layout:s.ms.NONE,type:s.HB.UNAUTHORIZED,access:null}},{path:"/forgot_password",name:"forgot_password",component:()=>n.e(950).then(n.bind(n,9950)),meta:{layout:s.ms.NONE,type:s.HB.UNAUTHORIZED,access:null}},{path:"/password_reset",name:"password_reset",component:()=>n.e(238).then(n.bind(n,3238)),meta:{layout:s.ms.NONE,type:s.HB.UNAUTHORIZED,access:null}},{path:"/unauthorized",name:"unauthorized",component:()=>n.e(447).then(n.bind(n,447)),meta:{layout:s.ms.NONE,type:s.HB.NONE,access:null}},{path:"*",name:"404",component:()=>n.e(291).then(n.bind(n,7291)),meta:{layout:s.ms.NONE,type:s.HB.NONE,access:null}}];var i=n(5320),c=(e,t,n)=>{const r=i.Z.getters["root/getToken"];r&&"null"!==r&&"undefined"!==r&&e.meta?.type===s.HB.AUTHORIZED?n():n({name:"login"})},l=(e,t,n)=>{const r=i.Z.getters["root/getToken"];r&&"null"!==r&&e.meta?.type===s.HB.UNAUTHORIZED&&n({name:"dashboard"}),n()},u=(e,t,n)=>{const r=e?.meta?.type;switch(r){case"authorized":c(e,t,n);break;case"unauthorized":l(e,t,n);break;default:n()}},p=(n(7658),n(8921));function d(e,t,n){const r=e.meta?.access;r&&(p.Z.can(r,"all")||g.push({name:"unauthorized"})),n()}async function h(e,t,n){const r=i.Z.getters["root/getToken"];r&&"null"!==r&&"undefined"!==r&&e.meta?.type===s.HB.AUTHORIZED&&await i.Z.dispatch("root/getAbilities"),n()}r["default"].use(o.ZP);const m=new o.ZP({mode:"history",base:"/",routes:a});m.beforeEach(h),m.beforeEach(u),m.beforeEach(d);var g=m},8921:function(e,t,n){"use strict";var r=n(5871);const o=new r.$U([{subject:"all",action:["read"]}]);t["Z"]=o},7957:function(e,t,n){"use strict";n(7658);var r=n(6265),o=n.n(r),s=n(5320),a=n(3277);const i={baseURL:"http://localhost/api/"},c=o().create(i);c.interceptors.request.use((e=>{const t=s.Z.getters["root/getToken"];return t&&"null"!==t&&(e.headers={["Authorization"]:`Bearer ${t}`}),e})),c.interceptors.response.use((e=>e),(e=>([401].includes(e.response?.status||0)&&(s.Z.dispatch("root/resetUser"),a.Z.push({name:"login"})),new Promise(((t,n)=>{n(e.response?.data)}))))),t["Z"]=c},5320:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(6369),o=n(3822),s=n(9422),a=n(2415);const i=(0,a.Z)({key:"rolenpermission",paths:["root.token","root.userDetail","root.userRole","root.profileImage"],storage:{getItem:e=>window.localStorage.getItem(e),setItem:(e,t)=>window.localStorage.setItem(e,t),removeItem:e=>window.localStorage.removeItem(e)}});var c=i;r["default"].use(o.ZP);var l=new o.ZP.Store({modules:s["default"],strict:!1,plugins:[c]})},9613:function(e,t,n){"use strict";n.r(t);var r=n(2482),o=n(3365),s=n(7957),a=n(2712),i=function(e,t,n,r){var o,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(a=(s<3?o(a):s>3?o(t,n,a):o(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a};let c={params:{per_page:10}},l=class extends o.g4{constructor(...e){super(...e),(0,r.Z)(this,"permissions",a.rY),(0,r.Z)(this,"loadingStatus",!1)}get permissionList(){return this.permissions.data}get totalCount(){return this.permissions.total}get lastPage(){return this.permissions.last_page}get currentPage(){return this.permissions.current_page}get isLoading(){return this.loadingStatus}SET_PERMISSION(e){this.permissions=e}TOGGLE_LOADING(){this.loadingStatus=!this.loadingStatus}async fetch(e){this.context.commit("TOGGLE_LOADING"),c=Object.assign(c,e);const t=await s.Z.get("permissions",c);return setTimeout((()=>{this.context.commit("TOGGLE_LOADING")}),1e3),t.data}nextPage(){return new Promise((e=>{this.currentPage<this.lastPage&&(c={params:{...c.params,page:this.currentPage+1}},this.context.dispatch("fetch",c)),e(!0)}))}prevPage(){return new Promise((e=>{this.currentPage>1&&(c={params:{...c.params,page:this.currentPage-1}},this.context.dispatch("fetch",c)),e(!0)}))}gotoPage(e){return new Promise((t=>{this.currentPage>=1&&(c={params:{...c.params,page:e}},this.context.dispatch("fetch",c)),t(!0)}))}search(e){return new Promise((t=>{c={params:{...c.params,s:e}},this.context.dispatch("fetch",c),t(!0)}))}save(e){return new Promise((t=>{(0,s.Z)({method:e.id?"put":"post",url:e.id?`permissions/${e.id}`:"permissions",data:e}).then((()=>{this.context.dispatch("fetch"),t(!0)}))}))}destory(e){return new Promise((t=>{s.Z["delete"](`permissions/${e}`).then((()=>{this.context.dispatch("fetch"),t(!0)}))}))}};i([o.mm],l.prototype,"SET_PERMISSION",null),i([o.mm],l.prototype,"TOGGLE_LOADING",null),i([(0,o.aU)({commit:"SET_PERMISSION"})],l.prototype,"fetch",null),i([o.aU],l.prototype,"nextPage",null),i([o.aU],l.prototype,"prevPage",null),i([o.aU],l.prototype,"gotoPage",null),i([o.aU],l.prototype,"search",null),i([o.aU],l.prototype,"save",null),i([o.aU],l.prototype,"destory",null),l=i([o.Yl],l),t["default"]=l},2747:function(e,t,n){"use strict";n.r(t),n.d(t,{Timely:function(){return r}});n(7658);var r,o=n(3365),s=n(7957),a=function(e,t,n,r){var o,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(a=(s<3?o(a):s>3?o(t,n,a):o(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a};(function(e){e["MONTHLY"]="monthly",e["YEARLY"]="yearly"})(r||(r={}));let i=class extends o.g4{async userCompliance(){const e=await this.context.rootGetters["user/list"];return new Promise((t=>{const n=[];e.forEach((e=>{n.push({name:e.name||e.email,name_added:null!==e.name,email_verified:null!==e.email_verified_at,phone_verified:null!==e.phone_verified_at})})),t(n)}))}userReport(e){return new Promise((t=>{s.Z.get("user/report",{params:e}).then((({data:e})=>{t(e)}))}))}};a([o.aU],i.prototype,"userCompliance",null),a([o.aU],i.prototype,"userReport",null),i=a([o.Yl],i),t["default"]=i},6621:function(e,t,n){"use strict";n.r(t);var r=n(2482),o=n(3365),s=n(7957),a=n(2712),i=function(e,t,n,r){var o,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(a=(s<3?o(a):s>3?o(t,n,a):o(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a};let c={params:{per_page:10}},l=class extends o.g4{constructor(...e){super(...e),(0,r.Z)(this,"roles",a.rY),(0,r.Z)(this,"loadingStatus",!1)}get list(){return this.roles.data}get totalCount(){return this.roles.total}get lastPage(){return this.roles.last_page}get currentPage(){return this.roles.current_page}get isLoading(){return this.loadingStatus}TOGGLE_LOADING(){this.loadingStatus=!this.loadingStatus}SET_ROLES(e){this.roles=e}async fetch(e){this.context.commit("TOGGLE_LOADING"),c=Object.assign(c,e);const t=await s.Z.get("roles",c);return setTimeout((()=>{this.context.commit("TOGGLE_LOADING")}),1e3),t.data}nextPage(){return new Promise((e=>{this.currentPage<this.lastPage&&(c={params:{...c.params,page:this.currentPage+1}},this.context.dispatch("fetch",c)),e(!0)}))}prevPage(){return new Promise((e=>{this.currentPage>1&&(c={params:{...c.params,page:this.currentPage-1}},this.context.dispatch("fetch",c)),e(!0)}))}gotoPage(e){return new Promise((t=>{this.currentPage>=1&&(c={params:{...c.params,page:e}},this.context.dispatch("fetch",c)),t(!0)}))}search(e){return new Promise((t=>{c={params:{...c.params,s:e}},this.context.dispatch("fetch",c),t(!0)}))}save(e){return new Promise((t=>{(0,s.Z)({method:e.id?"put":"post",url:e.id?`roles/${e.id}`:"roles",data:e}).then((()=>{this.context.dispatch("fetch"),t(!0)}))}))}destory(e){return new Promise((t=>{s.Z["delete"](`roles/${e}`).then((()=>{this.context.dispatch("fetch"),t(!0)}))}))}assignPermission(e){return new Promise((t=>{s.Z.put(`roles/${e.roleId}/assign_permissions`,{permissions:e.permissions}).then((()=>{this.context.dispatch("fetch"),t(!0)}))}))}};i([o.mm],l.prototype,"TOGGLE_LOADING",null),i([o.mm],l.prototype,"SET_ROLES",null),i([(0,o.aU)({commit:"SET_ROLES"})],l.prototype,"fetch",null),i([o.aU],l.prototype,"nextPage",null),i([o.aU],l.prototype,"prevPage",null),i([o.aU],l.prototype,"gotoPage",null),i([o.aU],l.prototype,"search",null),i([o.aU],l.prototype,"save",null),i([o.aU],l.prototype,"destory",null),i([o.aU],l.prototype,"assignPermission",null),l=i([o.Yl],l),t["default"]=l},2316:function(e,t,n){"use strict";n.r(t);var r=n(2482),o=n(3365),s=n(7957),a=n(8921),i=function(e,t,n,r){var o,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(a=(s<3?o(a):s>3?o(t,n,a):o(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a};let c,l=class extends o.g4{constructor(...e){super(...e),(0,r.Z)(this,"token",null),(0,r.Z)(this,"userDetail",null),(0,r.Z)(this,"userRole",null),(0,r.Z)(this,"profileImage",null),(0,r.Z)(this,"modal",{title:"",status:!1,component:null})}get getLoggedinUser(){return this.userDetail}get getToken(){return this.token}get getModal(){return this.modal}get myRole(){return this.userRole}get avatar(){return this.profileImage}SET_TOKEN(e){this.token=e}SET_LOGIN_USER(e){this.userDetail={...e}}UPDATE_MODAL(e){this.modal=e}UPDATE_ROLE(e){this.userRole=e}UPDATE_AVATAR(e){this.profileImage=e}async getStats(){const{data:e}=await s.Z.get("/stats");return e}login(e){return new Promise((t=>{s.Z.post("auth/login",e).then((({data:e})=>{this.context.commit("SET_TOKEN",e.data.token),this.context.dispatch("fetchLogginedUser"),t("success")})).catch((({message:e})=>{t(e)}))}))}register(e){return new Promise((t=>{s.Z.post("auth/register",e).then((({data:e})=>{this.context.commit("SET_TOKEN",e.data.token),this.context.dispatch("fetchLogginedUser"),t("success")})).catch((({message:e})=>{t(e)}))}))}logout(){return new Promise((e=>{s.Z.post("auth/logout").then((()=>{this.context.commit("SET_TOKEN",null),this.context.commit("SET_LOGIN_USER",{}),a.Z.update([{subject:"all",action:[]}]),e(!0)}))}))}fetchLogginedUser(){return new Promise((e=>{s.Z.get("me").then((({data:t})=>{this.context.commit("SET_LOGIN_USER",t.user),this.context.commit("UPDATE_ROLE",t.role),this.context.commit("UPDATE_AVATAR",t.avatar),e(!0)}))}))}resetUser(){return new Promise((e=>{this.context.commit("SET_TOKEN",null),this.context.commit("SET_LOGIN_USER",{}),e(!0)}))}getAbilities(){return new Promise((e=>{c&&clearTimeout(c),c=setTimeout((()=>{s.Z.get("abilities").then((({data:t})=>{a.Z.update([{subject:"all",action:t.data}]),e(t.data)}))}))}))}toggleModal(e){e?this.context.commit("UPDATE_MODAL",{title:e.title,status:!0,component:e.component,props:e.props}):this.context.commit("UPDATE_MODAL",{title:"",status:!1,component:null,props:null})}changePassword(e){return new Promise((t=>{s.Z.put("/auth/change_password",e).then((()=>{t(!0)}))}))}changeDetail(e){return new Promise((t=>{s.Z.put("/auth/change_detail",e).then((()=>{this.context.dispatch("fetchLogginedUser"),t(!0)})).catch((e=>{t(e)}))}))}forgetPassword(e){return new Promise((t=>{s.Z.post("/auth/forgot_password",{email:e,host:location.origin}).then((e=>{console.log(e),t(!0)})).catch((e=>{t(e)}))}))}resetPassword(e){return new Promise((t=>{s.Z.put("auth/reset_password",e).then((e=>{console.log(e),t(!0)})).catch((e=>{t(e)}))}))}};i([o.mm],l.prototype,"SET_TOKEN",null),i([o.mm],l.prototype,"SET_LOGIN_USER",null),i([o.mm],l.prototype,"UPDATE_MODAL",null),i([o.mm],l.prototype,"UPDATE_ROLE",null),i([o.mm],l.prototype,"UPDATE_AVATAR",null),i([o.aU],l.prototype,"getStats",null),i([o.aU],l.prototype,"login",null),i([o.aU],l.prototype,"register",null),i([o.aU],l.prototype,"logout",null),i([o.aU],l.prototype,"fetchLogginedUser",null),i([o.aU],l.prototype,"resetUser",null),i([o.aU],l.prototype,"getAbilities",null),i([o.aU],l.prototype,"toggleModal",null),i([o.aU],l.prototype,"changePassword",null),i([o.aU],l.prototype,"changeDetail",null),i([o.aU],l.prototype,"forgetPassword",null),i([o.aU],l.prototype,"resetPassword",null),l=i([o.Yl],l),t["default"]=l},7968:function(e,t,n){"use strict";n.r(t);var r=n(2482),o=n(3365),s=n(7957),a=n(2712),i=function(e,t,n,r){var o,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(a=(s<3?o(a):s>3?o(t,n,a):o(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a};let c={params:{per_page:10}},l=class extends o.g4{constructor(...e){super(...e),(0,r.Z)(this,"users",a.rY),(0,r.Z)(this,"loadingStatus",!1)}get list(){return this.users.data}get totalCount(){return this.users.total}get lastPage(){return this.users.last_page}get currentPage(){return this.users.current_page}get isLoading(){return this.loadingStatus}SET_PERMISSION(e){this.users=e}TOGGLE_LOADING(){this.loadingStatus=!this.loadingStatus}async fetch(e){this.context.commit("TOGGLE_LOADING"),c=Object.assign(c,e);const t=await s.Z.get("users",c);return setTimeout((()=>{this.context.commit("TOGGLE_LOADING")}),1e3),t.data}nextPage(){return new Promise((e=>{this.currentPage<this.lastPage&&(c={params:{...c.params,page:this.currentPage+1}},this.context.dispatch("fetch",c)),e(!0)}))}prevPage(){return new Promise((e=>{this.currentPage>1&&(c={params:{...c.params,page:this.currentPage-1}},this.context.dispatch("fetch",c)),e(!0)}))}gotoPage(e){return new Promise((t=>{this.currentPage>=1&&(c={params:{...c.params,page:e}},this.context.dispatch("fetch",c)),t(!0)}))}search(e){return new Promise((t=>{c={params:{...c.params,s:e}},this.context.dispatch("fetch",c),t(!0)}))}save(e){return new Promise((t=>{(0,s.Z)({method:e.id?"put":"post",url:e.id?`users/${e.id}`:"users",data:e}).then((()=>{this.context.dispatch("fetch"),t(!0)}))}))}destory(e){return new Promise((t=>{s.Z["delete"](`users/${e}`).then((()=>{this.context.dispatch("fetch"),t(!0)}))}))}assignRole({userID:e,roleID:t}){return new Promise((n=>{s.Z.put(`user/${e}/assign_role/${t}`).then((()=>{this.context.dispatch("fetch"),n(!0)}))}))}};i([o.mm],l.prototype,"SET_PERMISSION",null),i([o.mm],l.prototype,"TOGGLE_LOADING",null),i([(0,o.aU)({commit:"SET_PERMISSION"})],l.prototype,"fetch",null),i([o.aU],l.prototype,"nextPage",null),i([o.aU],l.prototype,"prevPage",null),i([o.aU],l.prototype,"gotoPage",null),i([o.aU],l.prototype,"search",null),i([o.aU],l.prototype,"save",null),i([o.aU],l.prototype,"destory",null),i([o.aU],l.prototype,"assignRole",null),l=i([o.Yl],l),t["default"]=l},9422:function(e,t,n){"use strict";n.r(t);const r=n(2627),o={};r.keys().forEach((e=>{"./index.ts"!==e&&(o[e.replace(/(\.\/|\.ts)/g,"").toLowerCase()]={...r(e).default,namespaced:!0})})),t["default"]=o},2627:function(e,t,n){var r={"./Permission.ts":9613,"./Report.ts":2747,"./Role.ts":6621,"./Root.ts":2316,"./User.ts":7968,"./index.ts":9422};function o(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=s,e.exports=o,o.id=2627}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,r,o,s){if(!r){var a=1/0;for(u=0;u<e.length;u++){r=e[u][0],o=e[u][1],s=e[u][2];for(var i=!0,c=0;c<r.length;c++)(!1&s||a>=s)&&Object.keys(n.O).every((function(e){return n.O[e](r[c])}))?r.splice(c--,1):(i=!1,s<a&&(a=s));if(i){e.splice(u--,1);var l=o();void 0!==l&&(t=l)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[r,o,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"."+{20:"a5b30d58",77:"af7a3460",217:"35b48679",238:"07734402",258:"b0e7f956",291:"7d4dad92",292:"9765b5db",322:"34d7ae27",354:"7d1d382c",443:"fd27bc8a",447:"0c7f58b7",458:"6bbcb9c7",554:"47422963",708:"f13f4919",775:"f2433772",798:"6b9cad87",950:"4366dd1a"}[e]+".js"}}(),function(){n.miniCssF=function(e){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="rolenpermissionf:";n.l=function(r,o,s,a){if(e[r])e[r].push(o);else{var i,c;if(void 0!==s)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var p=l[u];if(p.getAttribute("src")==r||p.getAttribute("data-webpack")==t+s){i=p;break}}i||(c=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+s),i.src=r),e[r]=[o];var d=function(t,n){i.onerror=i.onload=null,clearTimeout(h);var o=e[r];if(delete e[r],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),c&&document.head.appendChild(i)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var e={143:0};n.f.j=function(t,r){var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var s=new Promise((function(n,r){o=e[t]=[n,r]}));r.push(o[2]=s);var a=n.p+n.u(t),i=new Error,c=function(r){if(n.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;i.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",i.name="ChunkLoadError",i.type=s,i.request=a,o[1](i)}};n.l(a,c,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,s,a=r[0],i=r[1],c=r[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(c)var u=c(n)}for(t&&t(r);l<a.length;l++)s=a[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(u)},r=self["webpackChunkrolenpermissionf"]=self["webpackChunkrolenpermissionf"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(6134)}));r=n.O(r)})();
//# sourceMappingURL=app.ecbdf28c.js.map