{"version":3,"file":"js/458.6bbcb9c7.js","mappings":"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","sources":["webpack://rolenpermissionf/./src/components/Input.tsx","webpack://rolenpermissionf/./src/components/SearchBar.tsx","webpack://rolenpermissionf/./src/components/pagination.tsx","webpack://rolenpermissionf/./src/components/user/Loading.tsx","webpack://rolenpermissionf/./src/components/user/AssignRoleForm.tsx","webpack://rolenpermissionf/./src/components/user/Detail.tsx","webpack://rolenpermissionf/./src/components/user/Item.tsx","webpack://rolenpermissionf/./src/pages/admin/UserPage.tsx","webpack://rolenpermissionf/./node_modules/@vue/babel-helper-vue-jsx-merge-props/dist/helper.js"],"sourcesContent":["import { Component, Prop, Vue } from 'vue-property-decorator'\nimport { VNode } from 'vue'\n\n@Component\nexport default class Input extends Vue {\n    private isFocus = false\n    private hasText = false\n\n    @Prop({ default: '' }) title!: string\n    @Prop({ default: false }) disabled!: boolean\n\n    render(): VNode {\n        return <div class={{ \"form__group\": true, \"has--text\": this.isFocus || this.hasText }}>\n            {this.title\n                ? <label for=\"\">{this.title}</label>\n                : null\n            }\n            {this.$slots.default}\n        </div>\n    }\n\n    mounted() {\n        const input: HTMLInputElement | null = this.$el.querySelector('input')\n\n        if (input) {\n            this.$nextTick(() => {\n                this.hasText = input.value !== ''\n            })\n\n            input.addEventListener('focus', () => {\n                this.isFocus = true\n            })\n\n            input.addEventListener('blur', () => {\n                this.isFocus = false\n            })\n\n            input.addEventListener('input', () => {\n                this.hasText = input.value.length > 0\n            })\n\n            if (this.disabled)\n                input.setAttribute('disabled', '')\n        }\n    }\n}","import { Component, Vue, Watch } from \"vue-property-decorator\"\nimport { VNode } from \"vue\"\nimport Input from \"./Input\"\n\nlet timer: number\n\n@Component\nexport default class SearchBar extends Vue {\n    private searchText = ''\n\n    @Watch('searchText')\n    searchTextChanged() {\n        if (timer)\n            clearTimeout(timer)\n\n        timer = setTimeout(() => {\n            this.submitHandler()\n        }, 300)\n    }\n\n    render(): VNode {\n        return <form action=\"#\" class=\"form form__inline p4 text--center\" method=\"POST\" onSubmit={this.submitHandler}>\n            <Input>\n                <input type=\"search\" name=\"search_permission\" id=\"spf_search\" v-model={this.searchText} placeholder=\"Search text here...\" />\n            </Input>\n            <div class=\"form__action\">\n                <button type=\"submit\" class=\"btn btn__primary\"><span class=\"material-icons\">search</span></button>\n            </div>\n        </form>\n    }\n\n    submitHandler(event?: Event) {\n        if (event)\n            event.preventDefault()\n\n        this.$emit('search', this.searchText)\n    }\n}","import { VNode } from 'vue'\nimport { Component, Prop, Vue } from 'vue-property-decorator'\n\n@Component\nexport default class Paginate extends Vue {\n    @Prop({ required: true }) current!: number\n    @Prop({ required: true }) total!: number\n    @Prop({ default: 3 }) max!: number\n\n    get pages(): Array<number> {\n        let length = this.max\n\n        if (length > this.total)\n            length = this.total;\n\n        let start = this.current - Math.floor(length / 2)\n        start = Math.max(start, 1)\n        start = Math.min(start, 1 + this.total - length)\n\n        return Array.from({ length: length }, (_, i) => start + i)\n    }\n\n    /** \n     * \n     * @returns VNode\n     */\n    render(): VNode {\n        return (<nav class=\"pagination\">\n            {this.total > 1\n                ? [\n                    <ul class=\"pagination__list\">\n                        {this.current > 1 ? <li><a href=\"#\" class=\"pagination--btn prev\" onClick={this.prev}>prev</a></li> : null}\n                        {this.pages.map((pageno: number) => <li>\n                            {pageno === this.current\n                                ? <strong>{pageno}</strong>\n                                : <a href=\"#\" onClick={(event: MouseEvent) => { event.preventDefault(); this.goto(pageno) }}>{pageno}</a>}\n                        </li>)}\n                        {this.current < this.total ? <li><a href=\"#\" class=\"pagination--btn next\" onClick={this.next}>next</a></li> : null}\n                    </ul>,\n                    // <span>{this.current}/{this.total}</span>\n                ]\n                : null}\n        </nav>)\n    }\n\n    next(event: MouseEvent): void {\n        event.preventDefault()\n        this.$emit('next')\n    }\n\n    prev(event: MouseEvent): void {\n        event.preventDefault()\n        this.$emit('prev')\n    }\n\n    goto(pageNo: number): void {\n        this.$emit('goto', pageNo)\n    }\n}","import { Component, Vue } from \"vue-property-decorator\"\nimport { VNode } from \"vue\"\n\n@Component\nexport default class UserLoading extends Vue {\n    render(): VNode {\n        return <div class=\"skeleton__loader skeleton__loader--inline\">\n            <div class=\"wrap\">\n                <span class=\"text\"></span>\n            </div>\n            <div class=\"action\">\n                <span class=\"link\"></span>\n                <span class=\"link\"></span>\n            </div>\n        </div>\n    }\n}","import { Component, Prop, Vue } from \"vue-property-decorator\"\nimport { VNode } from \"vue\"\nimport { mapActions, mapGetters } from \"vuex\"\n\nimport Input from \"../Input\"\nimport { ModalProp } from \"@/store/modules/Root\"\nimport { Role } from \"@/store/modules/Role\"\nimport { AssignRolePayload } from '@/store/modules/User'\nimport { RequestQuery } from \"@/interfaces/app\"\n\n@Component({\n    computed: {\n        ...mapGetters({\n            list: 'role/list'\n        })\n    },\n    methods: {\n        ...mapActions({\n            toggleModal: 'root/toggleModal',\n            fetchRole: 'role/fetch',\n            assignRole: 'user/assignRole'\n        })\n    }\n})\nexport default class AssignRoleForm extends Vue {\n    private toggleModal!: (payload: ModalProp | null) => void\n    private list!: Array<Role>\n    private fetchRole!: (query: RequestQuery) => Promise<boolean>\n    private assignRole!: (payload: AssignRolePayload) => Promise<boolean>\n\n    private role = ''\n\n    @Prop({ required: true }) userId!: string\n    @Prop({ default: null }) roleId!: string | null\n\n    async mounted() {\n        await this.fetchRole({\n            params: {\n                per_page: null\n            }\n        })\n\n        this.role = this.roleId ?? ''\n    }\n\n    get hasChanged(): boolean {\n        return this.role === '' || this.role !== this.roleId\n    }\n\n    render(): VNode {\n        return <form class=\"form\" onSubmit={this.formSubmit}>\n            <Input>\n                <select v-model={this.role}>\n                    <option value=\"\">Select an role</option>\n                    {this.list.map((role: Role) => <option selected={role.id === this.roleId} value={role.id}>{role.title}</option>)}\n                </select>\n            </Input>\n            <div class=\"form__action\">\n                <button type=\"submit\" disabled={!this.hasChanged} class=\"btn btn__primary\">Save</button>\n            </div>\n        </form>\n    }\n\n    formSubmit(event: Event) {\n        event.preventDefault()\n\n        if (this.role)\n            this.assignRole({\n                userID: this.userId,\n                roleID: this.role\n            })\n                .then(() => {\n                    this.toggleModal(null)\n                })\n    }\n}","import { Component, Prop, Vue } from \"vue-property-decorator\"\nimport { VNode } from \"vue\"\nimport { User } from \"@/store/modules/User\"\n\n@Component\nexport default class UserDetail extends Vue {\n    @Prop({ required: true }) detail!: User\n\n    render(): VNode {\n        return <dl>\n            <dt>Name:</dt>\n            <dd>{this.detail.name}</dd>\n            <dt>Phone:</dt>\n            <dd>{this.detail.phone}</dd>\n            <dt>email:</dt>\n            <dd>{this.detail.email}</dd>\n            <dt>address:</dt>\n            <dd>{this.detail.address}</dd>\n        </dl>\n    }\n}","import { VNode } from \"vue\"\nimport { Component, Prop, Vue, Watch } from \"vue-property-decorator\"\nimport { mapActions, mapGetters } from \"vuex\"\n\nimport { ModalProp } from \"@/store/modules/Root\"\nimport { User } from \"@/store/modules/User\"\nimport AssignRoleForm from './AssignRoleForm'\nimport ability from \"@/services/ability\"\nimport UserDetail from './Detail'\nimport { Role } from \"@/store/modules/Role\"\n\n@Component({\n    computed: {\n        ...mapGetters({\n            myRole: 'root/myRole'\n        })\n    },\n    methods: {\n        ...mapActions({\n            toggleModal: 'root/toggleModal',\n            destory: 'user/destory',\n        })\n    }\n})\nexport default class UserItem extends Vue {\n    private toggleModal!: (payload: ModalProp) => void\n    private destory!: (id: string) => void\n    private myRole!: Role\n\n    hasHigherRole = false\n\n    @Prop({ required: true }) detail!: User\n\n    @Watch('myRole', { deep: true })\n    onMyRoleChanged() {\n        this.init()\n    }\n\n    get roles(): string {\n        return this.detail.roles\n            ? this.detail.roles.map(role => role.title).join(', ')\n            : ''\n    }\n\n    get roleId(): string | null {\n        return this.detail.roles\n            ? this.detail.roles[0]\n                ? this.detail.roles[0].id ?? null\n                : null\n            : null\n    }\n\n    get abbr(): string {\n        return this.detail.name\n            ? this.detail.name.split(' ').map(name => name[0]).join('')\n            : this.detail.email[0]\n    }\n\n    mounted() {\n        this.init()\n    }\n\n    init() {\n        if (this.detail.roles && this.detail.roles.length > 0) {\n            const role = this.detail.roles[0]\n\n            if (role.priority !== undefined && this.myRole.priority !== undefined) {\n\n                this.hasHigherRole = this.myRole.priority < role.priority\n            }\n        }\n    }\n\n    render(): VNode {\n        return <div class=\"item\">\n            <figure class=\"item__image\">\n                {this.detail?.media\n                    ? <img src={this.detail.media.url} alt={this.detail.name} />\n                    : <span>{this.abbr}</span>\n                }\n            </figure>\n            <div class=\"item__detail\">\n                <h3 class=\"h6\">\n                    {ability.can('view_user', 'all')\n                        ? <a href=\"#\" onClick={(event: Event) => {\n                            event.preventDefault()\n\n                            this.toggleModal({\n                                title: `Detail of <strong>${this.detail.email}</strong>`,\n                                component: UserDetail,\n                                props: {\n                                    detail: this.detail\n                                }\n                            })\n                        }}>{this.detail.name ? this.detail.name : this.detail.email}</a>\n                        : this.detail.email\n                    }\n                </h3>\n                <em class=\"list__string\">{this.roles}</em>\n            </div>\n            <div class=\"item__action\">\n                {ability.can('change_role', 'all') && (this.hasHigherRole || !this.roleId)\n                    ? <a href=\"#\" onClick={(event: Event) => {\n                        event.preventDefault()\n\n                        if (this.detail.id)\n                            this.toggleModal({\n                                title: `<hi>Assign role to <strong>${this.detail.email}</strong></hi>`,\n                                component: AssignRoleForm,\n                                props: {\n                                    userId: this.detail.id,\n                                    roleId: this.roleId\n                                }\n                            })\n                    }}>{this.detail.roles && this.detail.roles.length > 0 ? 'Update role' : 'Assign role'}</a>\n                    : null\n                }\n\n                {ability.can('delete_user', 'all') && this.hasHigherRole\n                    ? <a href=\"#\" onClick={(event: Event) => {\n                        event.preventDefault()\n\n                        if (this.detail.id)\n                            this.destory(this.detail.id)\n                    }}>delete</a>\n                    : null\n                }\n            </div>\n        </div>\n    }\n}","import { Component, Vue } from \"vue-property-decorator\"\nimport { VNode } from \"vue\"\nimport { mapActions, mapGetters } from \"vuex\"\n\nimport { User } from \"@/store/modules/User\"\nimport UserItem from '@/components/user/Item'\nimport SearchBar from '@/components/SearchBar'\nimport { RequestQuery } from \"@/interfaces/app\"\nimport Paginate from \"@/components/pagination\"\nimport UserLoading from \"@/components/user/Loading\"\n\n@Component({\n    computed: {\n        ...mapGetters({\n            list: 'user/list',\n            current: 'user/currentPage',\n            lastPage: 'user/lastPage',\n            isLoading: 'user/isLoading'\n        })\n    },\n    methods: {\n        ...mapActions({\n            fetch: 'user/fetch',\n            nextPage: 'user/nextPage',\n            prevPage: 'user/prevPage',\n            goto: 'user/gotoPage',\n            search: 'user/search'\n        })\n    }\n})\nexport default class UserPage extends Vue {\n    private isLoading!: boolean\n    private list!: Array<User>\n    private current!: number\n    private lastPage!: number\n    private fetch!: (query: RequestQuery) => Promise<boolean>\n    private search!: (searchText: string) => Promise<boolean>\n    private prevPage!: () => Promise<boolean>\n    private nextPage!: () => Promise<boolean>\n    private goto!: (pageno: number) => Promise<boolean>\n\n    mounted() {\n        this.fetch({ params: { per_page: 10 } })\n    }\n\n    render(): VNode {\n        return <section class=\"card\">\n            <header class=\"card__header\">\n                <h1 class=\"card__title\">Users</h1>\n                <div class=\"card__header__action\">\n                    <a href=\"#\" onClick={(event: Event) => {\n                        event.preventDefault()\n\n                        this.fetch({ params: { per_page: 10 } })\n                    }}><span class=\"material-icons\">refresh</span></a>\n                </div>\n            </header>\n            <div class=\"card__body\">\n                <SearchBar onSearch={(searchText: string) => {\n                    this.search(searchText)\n                }} />\n                 {this.isLoading\n                    ? <UserLoading />\n                    : this.list.map((user: User) => <UserItem detail={user} key={user.id} />)\n                }\n            </div>\n            <footer class=\"card__footer\">\n                <Paginate current={this.current} total={this.lastPage} onNext={() => this.nextPage()} onPrev={() => this.prevPage()} onGoto={(pageno: number) => this.goto(pageno)} />\n            </footer>\n        </section>\n    }\n}","\"use strict\";function _extends(){return _extends=Object.assign?Object.assign.bind():function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},_extends.apply(this,arguments)}var normalMerge=[\"attrs\",\"props\",\"domProps\"],toArrayMerge=[\"class\",\"style\",\"directives\"],functionalMerge=[\"on\",\"nativeOn\"],mergeJsxProps=function(a){return a.reduce(function(c,a){for(var b in a)if(!c[b])c[b]=a[b];else if(-1!==normalMerge.indexOf(b))c[b]=_extends({},c[b],a[b]);else if(-1!==toArrayMerge.indexOf(b)){var d=c[b]instanceof Array?c[b]:[c[b]],e=a[b]instanceof Array?a[b]:[a[b]];c[b]=[].concat(d,e)}else if(-1!==functionalMerge.indexOf(b)){for(var f in a[b])if(c[b][f]){var g=c[b][f]instanceof Array?c[b][f]:[c[b][f]],h=a[b][f]instanceof Array?a[b][f]:[a[b][f]];c[b][f]=[].concat(g,h)}else c[b][f]=a[b][f];}else if(\"hook\"===b)for(var i in a[b])c[b][i]=c[b][i]?mergeFn(c[b][i],a[b][i]):a[b][i];else c[b]=a[b];return c},{})},mergeFn=function(a,b){return function(){a&&a.apply(this,arguments),b&&b.apply(this,arguments)}};module.exports=mergeJsxProps;\n"],"names":["Input","Vue","render","this","isFocus","hasText","title","$slots","default","mounted","input","$el","querySelector","$nextTick","value","addEventListener","length","disabled","setAttribute","__decorate","Prop","Component","timer","SearchBar","searchTextChanged","clearTimeout","setTimeout","submitHandler","searchText","event","preventDefault","$emit","Watch","Paginate","pages","max","total","start","current","Math","floor","min","Array","from","_","i","prev","map","pageno","goto","next","pageNo","required","UserLoading","AssignRoleForm","fetchRole","params","per_page","role","roleId","hasChanged","formSubmit","list","id","assignRole","userID","userId","roleID","then","toggleModal","computed","mapGetters","methods","mapActions","UserDetail","detail","name","phone","email","address","UserItem","onMyRoleChanged","init","roles","join","abbr","split","undefined","priority","myRole","hasHigherRole","media","url","ability","component","props","destory","deep","UserPage","fetch","search","isLoading","user","lastPage","nextPage","prevPage","_extends","Object","assign","bind","a","b","c","arguments","d","prototype","hasOwnProperty","call","apply","normalMerge","toArrayMerge","functionalMerge","mergeJsxProps","reduce","indexOf","e","concat","f","g","h","mergeFn","module","exports"],"sourceRoot":""}